<!DOCTYPE html>
<html>
<head>
  <title>Tumblr Store</title>


<div id="_webengage_script_tag"></div>
<script type="text/javascript">
var webengage; !function(w,e,b,n,g){function o(e,t){e[t[t.length-1]]=function(){r.__queue.push([t.join("."),arguments])}}var i,s,r=w[b],z=" ",l="init options track screen onReady".split(z),a="feedback survey notification".split(z),c="options render clear abort".split(z),p="Open Close Submit Complete View Click".split(z),u="identify login logout setAttribute".split(z);if(!r||!r.__v){for(w[b]=r={__queue:[],__v:"6.0",user:{}},i=0;i<l.length;i++)o(r,[l[i]]);for(i=0;i<a.length;i++){for(r[a[i]]={},s=0;s<c.length;s++)o(r[a[i]],[a[i],c[s]]);for(s=0;s<p.length;s++)o(r[a[i]],[a[i],"on"+p[s]])}for(i=0;i<u.length;i++)o(r.user,["user",u[i]]);setTimeout(function(){var f=e.createElement("script"),d=e.getElementById("_webengage_script_tag");f.type="text/javascript",f.async=!0,f.src=("https:"==e.location.protocol?"https://ssl.widgets.webengage.com":"http://cdn.widgets.webengage.com")+"/js/webengage-min-v-6.0.js",d.parentNode.insertBefore(f,d)})}}(window,document,"webengage");
webengage.init('aa132ddc');
</script>

  <style>
    body { font-family: sans-serif; padding: 20px; }
    .hidden { display: none; }
    .product { margin-bottom: 10px; }
    button { margin-top: 10px; }
  </style>
</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5MQSXFPH"
  height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- LOGIN PAGE -->
<div id="login-page">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Enter your name" />
  <br><br>
  <button onclick="login()">Login</button>
</div>

<!-- PRODUCT PAGE -->
<div id="product-page" class="hidden">
  <h2>Welcome, <span id="user-name"></span></h2>
  <div class="product">üç© Donut - $5</div>
  <div class="product">üç™ Cookie - $3</div>
  <div class="product">üßÅ Cupcake - $4</div>
  <button onclick="checkout()">Checkout</button>
</div>

<script>
  // Initialize GTM Data Layer
  window.dataLayer = window.dataLayer || [];

  // Login Function
  function login() {
    const username = document.getElementById('username').value;
    if (username.trim() === '') {
      alert("Please enter your name.");
      return;
    }

    // Fire login event
    dataLayer.push({
      event: 'user_login',
      user: username
    });

    // Show product page
    document.getElementById('login-page').classList.add('hidden');
    document.getElementById('product-page').classList.remove('hidden');
    document.getElementById('user-name').innerText = username;
  }

  // Checkout Function
  function checkout() {
    dataLayer.push({
      event: 'checkout_initiated',
      items: [
        { name: 'Donut', price: 5 },
        { name: 'Cookie', price: 3 },
        { name: 'Cupcake', price: 4 }
      ],
      total: 12
    });

    // Simulate thank-you screen
    document.body.innerHTML = `
      <div style="text-align:center; padding-top:50px;">
        <h2>üéâ Thank you for your order!</h2>
        <p>Your checkout has been successfully processed.</p>
      </div>
    `;
  }
</script>

</body>
</html>
